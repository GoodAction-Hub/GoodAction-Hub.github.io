(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{2410:(e,t,r)=>{Promise.resolve().then(r.bind(r,6854))},4869:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},6854:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(5155),l=r(7024),i=r(5203),o=r(9852),n=r(7924),s=r(8564),d=r(7168),c=r(1218),m=r(2115),h=r(4869);function u(){let{displayTimezone:e,setDisplayTimezone:t,detectUserTimezone:r}=(0,i.h)(),{t:l}=(0,c.Bd)("common"),[n,s]=(0,m.useState)([]),[u,p]=(0,m.useState)(""),[x,b]=(0,m.useState)(!1);(0,m.useEffect)(()=>{try{let e=Intl.supportedValuesOf("timeZone");if(e&&e.length>0)return void s(e)}catch(e){console.warn("Failed to get timezones from browser:",e)}fetch("https://www.timeapi.io/api/timezone/availabletimezones").then(e=>e.json()).then(e=>{Array.isArray(e)&&s(e)}).catch(e=>{console.error("Failed to fetch timezones:",e),s(["Asia/Shanghai"])})},[]),(0,m.useEffect)(()=>{if(x){let e=e=>{e.target.closest(".timezone-selector-container")||b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[x]);let g=u?n.filter(e=>e.toLowerCase().includes(u.toLowerCase())):n;return(0,a.jsx)("div",{className:"relative timezone-selector-container",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(d.$,{variant:"outline",className:"flex items-center gap-2 text-sm",onClick:()=>b(!x),children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e})]}),x&&(0,a.jsx)("div",{className:"absolute z-50 mt-1 bg-white border rounded-md shadow-lg w-80 max-h-80 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)(o.p,{type:"text",placeholder:l("filter.searchTimezone"),value:u,onChange:e=>p(e.target.value),className:"mb-2"}),(0,a.jsx)("div",{className:"grid gap-1",children:g.map(r=>(0,a.jsx)("div",{className:"px-3 py-2 text-sm rounded-md cursor-pointer hover:bg-gray-100 ".concat(e===r?"bg-primary/10 font-medium":""),onClick:()=>{t(r),b(!1)},children:r},r))})]})})]}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>{r(),b(!1)},className:"whitespace-nowrap",children:l("filter.autoDetect")})]})})}function p(){let{selectedCategory:e,searchQuery:t,setCategory:r,setSearchQuery:l,showOnlyFavorites:m,setShowOnlyFavorites:h,mounted:p}=(0,i.h)(),{t:x}=(0,c.Bd)("common");return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 rounded-xl blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,a.jsxs)("div",{className:"relative bg-white rounded-xl shadow-lg border-2 border-gray-200 hover:border-blue-400 focus-within:border-blue-500 transition-all duration-300 hover:shadow-xl focus-within:shadow-2xl",children:[(0,a.jsx)(n.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-6 h-6 group-hover:text-blue-500 group-focus-within:text-blue-600 transition-colors duration-300"}),(0,a.jsx)(o.p,{type:"text",placeholder:x("filter.searchPlaceholder"),value:t,onChange:e=>l(e.target.value),className:"pl-14 pr-6 py-3 sm:py-4 text-base sm:text-xl md:text-2xl font-medium bg-transparent border-0 rounded-xl placeholder:text-base sm:placeholder:text-xl md:placeholder:text-2xl placeholder:text-gray-400 focus:ring-0 focus:outline-none h-12 sm:h-14 md:h-16 text-gray-800"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-50/50 to-purple-50/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[p&&(0,a.jsxs)(d.$,{variant:m?"default":"outline",size:"sm",onClick:()=>h(!m),className:"\n              relative overflow-hidden transition-all duration-300 ease-in-out\n              ".concat(m?"bg-gradient-to-r from-yellow-400 via-yellow-500 to-orange-500 text-white shadow-lg shadow-yellow-500/25 hover:shadow-xl hover:shadow-yellow-500/30 hover:scale-105":"border-yellow-300 text-yellow-600 hover:bg-yellow-50 hover:border-yellow-400 hover:text-yellow-700","\n              before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent\n              before:translate-x-[-100%] before:transition-transform before:duration-700\n              ").concat(m?"hover:before:translate-x-[100%]":"","\n            "),children:[(0,a.jsx)(s.A,{className:"w-4 h-4 transition-all duration-300 ".concat(m?"text-white fill-white drop-shadow-sm":"text-yellow-500 hover:text-yellow-600")}),(0,a.jsx)("span",{className:"font-medium",children:x("filter.onlyFavorites")}),m&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-orange-500/20 animate-pulse"})]}),(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium mb-2",children:x("filter.category")}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(d.$,{variant:null===e?"default":"outline",size:"sm",className:"transition-colors ".concat(null===e?"bg-primary hover:bg-primary/90":"hover:bg-primary/10"," hover:cursor-pointer"),onClick:()=>r(null),children:x("filter.all")}),["conference","competition","activity"].map(t=>(0,a.jsx)(d.$,{variant:e===t?"default":"outline",size:"sm",className:"transition-colors ".concat(e===t?"bg-primary hover:bg-primary/90":"hover:bg-primary/10"," capitalize hover:cursor-pointer"),onClick:()=>r(t),children:x("filter.category_".concat(t))},t))]})]})]})}var x=r(607),b=r(2231),g=r(6874),f=r.n(g);function v(){let{items:e,loading:t,fetchItems:r,selectedCategory:o,selectedTags:n,selectedLocations:s,searchQuery:d,favorites:h,showOnlyFavorites:u}=(0,i.h)();(0,m.useEffect)(()=>{r()},[r]);let{t:g}=(0,c.Bd)(),v=(0,m.useMemo)(()=>e.flatMap(e=>e.events.map(t=>{let r=b.c9.now().setZone("Asia/Shanghai"),a=t.timeline.map(e=>b.c9.fromISO(e.deadline,{zone:t.timezone})).filter(e=>e>r).sort((e,t)=>e.toMillis()-t.toMillis())[0]||b.c9.fromISO(t.timeline[t.timeline.length-1].deadline,{zone:t.timezone}),l=a.toMillis()-r.toMillis();return{item:e,event:t,nextDeadline:a,timeRemaining:l}})),[e]),y=(0,m.useMemo)(()=>v.map(e=>({...e,searchableDate:e.nextDeadline.toFormat("yyyy-MM-dd"),searchableMonth:e.nextDeadline.toFormat("MM"),searchableYear:e.nextDeadline.toFormat("yyyy")})),[v]),w=(0,m.useMemo)(()=>{let e=y;return o&&(e=e.filter(e=>e.item.category===o)),n.length>0&&(e=e.filter(e=>n.some(t=>{var r;return null==(r=e.item.tags)?void 0:r.includes(t)}))),s.length>0&&(e=e.filter(e=>s.includes(e.event.place))),u&&(console.log("Filtering favorites:",{favorites:h,showOnlyFavorites:u,totalEvents:e.length}),console.log("Filtered favorites result:",(e=e.filter(e=>{let t="".concat(e.event.id),r=h.includes(t);return console.log("Event ".concat(t,": ").concat(r?"favorited":"not favorited")),r})).length)),d.trim()&&(e=new x.A(e,{keys:[{name:"item.title",weight:.4},{name:"item.tags",weight:.3},{name:"event.place",weight:.2},{name:"searchableDate",weight:.1},{name:"searchableMonth",weight:.1},{name:"searchableYear",weight:.1}],threshold:.3,includeScore:!0}).search(d).map(e=>e.item)),e.sort((e,t)=>{let r=e.timeRemaining<0,a=t.timeRemaining<0;return r&&!a?1:!r&&a?-1:r||a?t.timeRemaining-e.timeRemaining:e.timeRemaining-t.timeRemaining})},[y,o,n,s,d,u,h]);return t?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-cyan-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-purple-700",children:g("events.loading")})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-cyan-50 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-cyan-400/20 to-purple-400/20 rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-pink-300/10 to-cyan-300/10 rounded-full blur-3xl"})]}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 bg-clip-text text-transparent mb-4",children:"公益慈善活动截止日期"}),(0,a.jsxs)("div",{className:"flex justify-center gap-3 mb-4",children:[(0,a.jsxs)(f(),{href:"https://gitcode.com/Fenju/GoodAction-Hub",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg hover:from-cyan-600 hover:to-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 28 28",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.059 5.80628C18.2234 5.71425 18.3973 5.61696 18.585 5.51037C18.6076 5.63327 18.6297 5.74058 18.6497 5.83784C18.685 6.00943 18.714 6.15059 18.728 6.29005C18.8392 7.50125 19.448 8.39222 20.3108 8.59286C21.5726 8.88583 22.7623 8.40159 23.4033 7.33318C24.1733 6.05123 23.839 4.4812 22.5279 3.53618C18.8826 0.907049 14.8777 0.18191 10.5636 1.44819C1.2616 4.1927 -1.92121 15.6199 4.68062 22.6274C7.50507 25.6249 11.0914 26.9182 15.1624 26.8204C20.3774 26.6979 24.1333 24.099 26.5309 19.5947C28.2308 16.3988 26.3829 12.9055 22.8439 12.1795C20.8227 11.7726 18.7559 11.6405 16.6993 11.7869C16.0151 11.8526 15.3509 12.0547 14.7459 12.3811C14.0691 12.7324 13.8734 13.4614 13.9493 14.1838C14.02 14.8421 14.5247 15.2369 15.1258 15.3362C16.3361 15.5256 17.5609 15.6357 18.7833 15.7361C19.1371 15.7659 19.4942 15.7694 19.8507 15.773C20.3623 15.7781 20.873 15.7832 21.3718 15.8657C22.7949 16.1009 23.2836 17.2557 22.5517 18.4911C22.3724 18.7882 22.1633 19.0662 21.9277 19.3209C20.9703 20.3738 19.7183 21.1144 18.3344 21.4465C15.8084 22.0649 13.2798 22.0996 10.7655 21.3054C7.90238 20.4021 6.19549 18.2991 6.13552 15.4682C6.1131 13.7223 6.55634 12.002 7.41963 10.4843C7.80967 9.77686 8.02376 9.04827 7.96359 8.24664C7.93826 7.90488 7.92423 7.56273 7.90915 7.19506C7.90113 6.99938 7.89281 6.79647 7.88233 6.58254C8.17231 6.6434 8.45871 6.72023 8.74022 6.81271C9.83531 7.25229 10.9132 7.45284 12.0986 7.13019C12.7728 6.96895 13.4697 6.92433 14.159 6.99829C15.269 7.08878 16.3785 6.81759 17.3215 6.22521C17.5569 6.08724 17.7963 5.9533 18.059 5.80628Z"})}),"GitCode"]}),(0,a.jsxs)(f(),{href:"https://github.com/FenjuFu/GoodAction-Hub",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"white",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782 .605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91 .832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272 .098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85 .004 1.705 .115 2.504 .337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379 .203 2.398 .1 2.651 .64 .7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359 .31 .678 .921 .678 1.856 0 1.338-.012 2.419 -.012 2.747 0 .268 .18 .58 .688 .482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})}),"GitHub"]})]}),(0,a.jsx)("p",{className:"text-lg text-gray-700 mb-4 font-medium",children:"公益慈善会议、竞赛和活动重要截止日期概览，不再错过参与公益事业、奉献爱心和社会服务的机会"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("p",{className:"bg-white/60 backdrop-blur-sm rounded-lg px-4 py-2 inline-block",children:"所有截止日期均默认转换为北京时间，如果您不知道当前所在时区，请点击时区选择器右侧的“自动检测”"}),(0,a.jsx)("p",{className:"text-gray-500 bg-white/40 backdrop-blur-sm rounded-lg px-4 py-2 inline-block",children:"*免责声明：本站数据由人工维护，仅供参考"})]})]}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20 mb-8",children:(0,a.jsx)(p,{})}),(0,a.jsx)("div",{className:"space-y-4",children:w.map(e=>{let{item:t,event:r}=e;return(0,a.jsx)(l.n,{item:t,event:r},"".concat(r.id))})}),0===w.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,a.jsx)("h3",{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:g("events.notFound")}),(0,a.jsx)("p",{className:"text-gray-600 bg-white/60 backdrop-blur-sm rounded-lg px-4 py-2 inline-block",children:g("events.hint")})]}),(0,a.jsx)("footer",{className:"mt-16 text-center text-gray-600",children:(0,a.jsx)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20 inline-block",children:(0,a.jsx)("p",{className:"text-sm",children:"公益慈善活动追踪平台 - 让爱心传递，让公益更简单"})})})]})]})}},7924:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155);r(2115);var l=r(3999);function i(e){let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,l.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}}},e=>{var t=t=>e(e.s=t);e.O(0,[953,598,874,218,688,366,852,24,441,684,358],()=>t(2410)),_N_E=e.O()}]);