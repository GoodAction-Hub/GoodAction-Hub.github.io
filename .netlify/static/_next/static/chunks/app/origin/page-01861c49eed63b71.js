(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[629],{1984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5155),s=r(7924),l=r(2115),n=r(5695);function i(){let[e,t]=(0,l.useState)(""),r=(0,n.useRouter)(),i=()=>{e.trim()&&r.push("/recommend?query=".concat(encodeURIComponent(e)))};return(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:"mt-50 w-full bg-black/40 backdrop-blur-md rounded-full px-4 py-3 shadow-2xl flex items-center",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 pl-3",children:(0,a.jsx)("span",{className:"text-white/90 text-lg md:text-xl",children:"探索"})}),(0,a.jsx)("input",{type:"text",placeholder:"搜索...",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&i()},className:"flex-1 bg-transparent placeholder-white/60 text-white text-lg md:text-xl outline-none px-6"}),(0,a.jsx)("button",{onClick:i,"aria-label":"搜索",className:"ml-4 rounded-full bg-white/20 hover:bg-white/30 p-3 flex items-center justify-center transition-colors",children:(0,a.jsx)(s.A,{className:"w-5 h-5 text-white"})})]})})}var o=r(5203),c=r(1218);function d(){let{loading:e,fetchItems:t}=(0,o.h)();(0,l.useEffect)(()=>{t()},[t]);let{t:r}=(0,c.Bd)();return e?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:r("events.loading")})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900/40 to-slate-200/10   bg-[url('/bg.jpg')] bg-cover bg-center",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl px-6 py-24 flex flex-col items-center",children:[(0,a.jsxs)("header",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-light text-white leading-tight tracking-tighter",children:"GOODACTION HUB"}),(0,a.jsx)("div",{className:"mt-3 text-2xl md:text-3xl text-white/90",children:"益 行"})]}),(0,a.jsx)(i,{}),(0,a.jsx)("footer",{className:"mt-14 text-center max-w-2xl",children:(0,a.jsx)("p",{className:"text-white/80 text-base md:text-lg italic",children:"GoodAction Hub helps you discover the world's best free opportunities — powered by AI, open to all."})})]})})}},2633:(e,t,r)=>{Promise.resolve().then(r.bind(r,1984))},5203:(e,t,r)=>{"use strict";r.d(t,{h:()=>l});var a=r(5453),s=r(6786);let l=(0,a.v)()((0,s.Zr)(e=>({items:[],loading:!0,selectedCategory:null,selectedTags:[],selectedLocations:[],searchQuery:"",favorites:[],showOnlyFavorites:!1,mounted:!1,displayTimezone:"Asia/Shanghai",toggleFavorite:t=>e(e=>({favorites:e.favorites.includes(t)?e.favorites.filter(e=>e!==t):[...e.favorites,t]})),setShowOnlyFavorites:t=>e({showOnlyFavorites:t}),fetchItems:async()=>{e({loading:!0});try{let t=await fetch("/api/data"),r=await t.json();e({items:r,loading:!1})}catch(t){console.error("Failed to load data:",t),e({loading:!1})}},setDisplayTimezone:t=>e({displayTimezone:t}),detectUserTimezone:()=>{try{let t=Intl.DateTimeFormat().resolvedOptions().timeZone;t&&e({displayTimezone:t})}catch(e){console.error("Failed to detect user timezone:",e)}},setCategory:t=>e({selectedCategory:t}),toggleTag:t=>e(e=>({selectedTags:e.selectedTags.includes(t)?e.selectedTags.filter(e=>e!==t):[...e.selectedTags,t]})),toggleLocation:t=>e(e=>({selectedLocations:e.selectedLocations.includes(t)?e.selectedLocations.filter(e=>e!==t):[...e.selectedLocations,t]})),setSearchQuery:t=>e({searchQuery:t})}),{name:"favorites-storage",storage:(0,s.KU)(()=>localStorage),partialize:e=>({favorites:e.favorites,displayTimezone:e.displayTimezone}),onRehydrateStorage:()=>e=>{e&&(e.mounted=!0)}}))},5453:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var a=r(2115);let s=e=>{let t,r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,l={setState:a,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(a,s,l);return l},l=e=>e?s(e):s,n=e=>e,i=e=>{let t=l(e),r=e=>(function(e,t=n){let r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},o=e=>e?i(e):i},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6786:(e,t,r)=>{"use strict";function a(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var a;let s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),l=null!=(a=r.getItem(e))?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}r.d(t,{KU:()=>a,Zr:()=>l});let s=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>s(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},l=(e,t)=>(r,l,n)=>{let i,o={storage:a(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,d=new Set,u=new Set,m=o.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},l,n);let h=()=>{let e=o.partialize({...l()});return m.setItem(o.name,{state:e,version:o.version})},g=n.setState;n.setState=(e,t)=>(g(e,t),h());let f=e((...e)=>(r(...e),h()),l,n);n.getInitialState=()=>f;let x=()=>{var e,t;if(!m)return;c=!1,d.forEach(e=>{var t;return e(null!=(t=l())?t:f)});let a=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=l())?e:f))||void 0;return s(m.getItem.bind(m))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,s]=e;if(r(i=o.merge(s,null!=(t=l())?t:f),!0),a)return h()}).then(()=>{null==a||a(i,void 0),i=l(),c=!0,u.forEach(e=>e(i))}).catch(e=>{null==a||a(void 0,e)})};return n.persist={setOptions:e=>{o={...o,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>c,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},o.skipHydration||x(),i||f}},7924:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:d="",children:u,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:n?24*Number(l)/Number(s):l,className:i("lucide",d),...!u&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,a.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(s(n(e))),"lucide-".concat(e),o),...c})});return r.displayName=n(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[218,441,684,358],()=>t(2633)),_N_E=e.O()}]);